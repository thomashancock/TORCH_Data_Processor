\hypertarget{class_processor}{}\section{Processor Class Reference}
\label{class_processor}\index{Processor@{Processor}}


Class which manages overall processing of data.  




{\ttfamily \#include $<$Processor.\+hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_processor_a1cc4421ebb02f40665336598c1334c55}{Processor} (std\+::unique\+\_\+ptr$<$ const \hyperlink{class_config}{Config} $>$ config)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{class_processor_acf37952c5b420d4e903a512571678692}{$\sim$\+Processor} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \hyperlink{class_processor_a18f7d93604ac0b8c53aea579330538dc}{process\+Files} (const std\+::string output\+File, const std\+::vector$<$ std\+::string $>$ \&file\+Names)
\begin{DoxyCompactList}\small\item\em Runs the processing chain on a set of files. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
using \hyperlink{class_processor_a531b4c5f7c0d810fc6e9e1dd3d115725}{bundle\+Buffer} = \hyperlink{class_thread_safe_queue}{Thread\+Safe\+Queue}$<$ std\+::unique\+\_\+ptr$<$ \hyperlink{class_word_bundle}{Word\+Bundle} $>$ $>$
\item 
using \hyperlink{class_processor_a0cfd8ed0721769db91c142a19a392e0f}{packet\+Buffer} = \hyperlink{class_thread_safe_queue}{Thread\+Safe\+Queue}$<$ std\+::unique\+\_\+ptr$<$ \hyperlink{class_packet}{Packet} $>$ $>$
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_processor_aa9ad1e9d6f3d217e23649e42cd07de90}{initialize\+Packet\+Buffers} (const std\+::list$<$ unsigned int $>$ \&tdc\+I\+Ds)
\begin{DoxyCompactList}\small\item\em Initilises a packet buffer for each T\+DC ID. \end{DoxyCompactList}\item 
void \hyperlink{class_processor_aa04640b32910d2daae25306f35ddcad8}{run\+Quick\+Check} ()
\begin{DoxyCompactList}\small\item\em Runs Quick\+Check Mode. \end{DoxyCompactList}\item 
void \hyperlink{class_processor_a3710adfb2311c70d9402e25a8615ace4}{run\+Low\+Level} (const std\+::string output\+File)
\begin{DoxyCompactList}\small\item\em Runs Low\+Level Mode. \end{DoxyCompactList}\item 
void \hyperlink{class_processor_adf50ef4f51094892e979ebd7cd15af04}{run\+Serial} (const std\+::string output\+File)
\begin{DoxyCompactList}\small\item\em Runs Serial Mode. \end{DoxyCompactList}\item 
void \hyperlink{class_processor_a32965f4a6587e9bf54eeeb11de43a4ad}{run\+Parallel} (const std\+::string output\+File)
\begin{DoxyCompactList}\small\item\em Runs Parallel Mode. \end{DoxyCompactList}\item 
void \hyperlink{class_processor_a554de487c5e8205872151fbedb315291}{make\+Packets} (std\+::shared\+\_\+ptr$<$ \hyperlink{class_processor_a531b4c5f7c0d810fc6e9e1dd3d115725}{bundle\+Buffer} $>$ word\+Bundle\+Buffer)
\begin{DoxyCompactList}\small\item\em Process word bundles into packets. \end{DoxyCompactList}\item 
void \hyperlink{class_processor_ae06672fc3ac6ef73525b64d4f9f769e7}{make\+Events} ()
\begin{DoxyCompactList}\small\item\em Build Events from Packets. \end{DoxyCompactList}\item 
void \hyperlink{class_processor_a1a19cb73f339992d6dd1be580c8efef0}{write\+Events} (std\+::unique\+\_\+ptr$<$ \hyperlink{class_event_tree_manager}{Event\+Tree\+Manager} $>$ \&manager)
\begin{DoxyCompactList}\small\item\em Writes events from the event buffer to a root file through the manager. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::shared\+\_\+ptr$<$ const \hyperlink{class_config}{Config} $>$ \hyperlink{class_processor_ae6ebab331300f556a5c9b58d3dbfff60}{m\+\_\+config}
\begin{DoxyCompactList}\small\item\em Program configuration. \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ \hyperlink{class_file_reader}{File\+Reader} $>$ \hyperlink{class_processor_aafe2ae55e609005c0e88226f1dd1dcb5}{m\+\_\+file\+Reader} = nullptr
\begin{DoxyCompactList}\small\item\em File Reader object pointer. \end{DoxyCompactList}\item 
std\+::array$<$ std\+::shared\+\_\+ptr$<$ \hyperlink{class_processor_a531b4c5f7c0d810fc6e9e1dd3d115725}{bundle\+Buffer} $>$, 4 $>$ \hyperlink{class_processor_a8277cf1524daaa16f0dacfddd02ffd13}{m\+\_\+word\+Bundle\+Buffers} = \{\{ nullptr \}\}
\begin{DoxyCompactList}\small\item\em Word Bundle Buffers (one for each slot) \end{DoxyCompactList}\item 
std\+::unordered\+\_\+map$<$ unsigned int, \hyperlink{class_processor_a0cfd8ed0721769db91c142a19a392e0f}{packet\+Buffer} $>$ \hyperlink{class_processor_ab75c789ec03e38e8621f000332daa285}{m\+\_\+packet\+Buffers}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_packet}{Packet} Buffers. \end{DoxyCompactList}\item 
\hyperlink{class_thread_safe_event_map}{Thread\+Safe\+Event\+Map} \hyperlink{class_processor_a7cb15fbab19fceb6bc5a607629ff5040}{m\+\_\+event\+Buffer}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_event}{Event} Buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Class which manages overall processing of data. 

Is setup based on values stores in \hyperlink{class_config}{Config} 

\subsection{Member Typedef Documentation}
\mbox{\Hypertarget{class_processor_a531b4c5f7c0d810fc6e9e1dd3d115725}\label{class_processor_a531b4c5f7c0d810fc6e9e1dd3d115725}} 
\index{Processor@{Processor}!bundle\+Buffer@{bundle\+Buffer}}
\index{bundle\+Buffer@{bundle\+Buffer}!Processor@{Processor}}
\subsubsection{\texorpdfstring{bundle\+Buffer}{bundleBuffer}}
{\footnotesize\ttfamily using \hyperlink{class_processor_a531b4c5f7c0d810fc6e9e1dd3d115725}{Processor\+::bundle\+Buffer} =  \hyperlink{class_thread_safe_queue}{Thread\+Safe\+Queue}$<$ std\+::unique\+\_\+ptr$<$\hyperlink{class_word_bundle}{Word\+Bundle}$>$ $>$\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{class_processor_a0cfd8ed0721769db91c142a19a392e0f}\label{class_processor_a0cfd8ed0721769db91c142a19a392e0f}} 
\index{Processor@{Processor}!packet\+Buffer@{packet\+Buffer}}
\index{packet\+Buffer@{packet\+Buffer}!Processor@{Processor}}
\subsubsection{\texorpdfstring{packet\+Buffer}{packetBuffer}}
{\footnotesize\ttfamily using \hyperlink{class_processor_a0cfd8ed0721769db91c142a19a392e0f}{Processor\+::packet\+Buffer} =  \hyperlink{class_thread_safe_queue}{Thread\+Safe\+Queue}$<$ std\+::unique\+\_\+ptr$<$\hyperlink{class_packet}{Packet}$>$ $>$\hspace{0.3cm}{\ttfamily [private]}}



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_processor_a1cc4421ebb02f40665336598c1334c55}\label{class_processor_a1cc4421ebb02f40665336598c1334c55}} 
\index{Processor@{Processor}!Processor@{Processor}}
\index{Processor@{Processor}!Processor@{Processor}}
\subsubsection{\texorpdfstring{Processor()}{Processor()}}
{\footnotesize\ttfamily Processor\+::\+Processor (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ const \hyperlink{class_config}{Config} $>$}]{config }\end{DoxyParamCaption})}



Constructor. 

\mbox{\Hypertarget{class_processor_acf37952c5b420d4e903a512571678692}\label{class_processor_acf37952c5b420d4e903a512571678692}} 
\index{Processor@{Processor}!````~Processor@{$\sim$\+Processor}}
\index{````~Processor@{$\sim$\+Processor}!Processor@{Processor}}
\subsubsection{\texorpdfstring{$\sim$\+Processor()}{~Processor()}}
{\footnotesize\ttfamily Processor\+::$\sim$\+Processor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destructor. 



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_processor_aa9ad1e9d6f3d217e23649e42cd07de90}\label{class_processor_aa9ad1e9d6f3d217e23649e42cd07de90}} 
\index{Processor@{Processor}!initialize\+Packet\+Buffers@{initialize\+Packet\+Buffers}}
\index{initialize\+Packet\+Buffers@{initialize\+Packet\+Buffers}!Processor@{Processor}}
\subsubsection{\texorpdfstring{initialize\+Packet\+Buffers()}{initializePacketBuffers()}}
{\footnotesize\ttfamily void Processor\+::initialize\+Packet\+Buffers (\begin{DoxyParamCaption}\item[{const std\+::list$<$ unsigned int $>$ \&}]{tdc\+I\+Ds }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Initilises a packet buffer for each T\+DC ID. 

\mbox{\Hypertarget{class_processor_ae06672fc3ac6ef73525b64d4f9f769e7}\label{class_processor_ae06672fc3ac6ef73525b64d4f9f769e7}} 
\index{Processor@{Processor}!make\+Events@{make\+Events}}
\index{make\+Events@{make\+Events}!Processor@{Processor}}
\subsubsection{\texorpdfstring{make\+Events()}{makeEvents()}}
{\footnotesize\ttfamily void Processor\+::make\+Events (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Build Events from Packets. 

\mbox{\Hypertarget{class_processor_a554de487c5e8205872151fbedb315291}\label{class_processor_a554de487c5e8205872151fbedb315291}} 
\index{Processor@{Processor}!make\+Packets@{make\+Packets}}
\index{make\+Packets@{make\+Packets}!Processor@{Processor}}
\subsubsection{\texorpdfstring{make\+Packets()}{makePackets()}}
{\footnotesize\ttfamily void Processor\+::make\+Packets (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{class_processor_a531b4c5f7c0d810fc6e9e1dd3d115725}{bundle\+Buffer} $>$}]{word\+Bundle\+Buffer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Process word bundles into packets. 


\begin{DoxyParams}{Parameters}
{\em word\+Bundle\+Buffer} & Buffer to read from \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_processor_a18f7d93604ac0b8c53aea579330538dc}\label{class_processor_a18f7d93604ac0b8c53aea579330538dc}} 
\index{Processor@{Processor}!process\+Files@{process\+Files}}
\index{process\+Files@{process\+Files}!Processor@{Processor}}
\subsubsection{\texorpdfstring{process\+Files()}{processFiles()}}
{\footnotesize\ttfamily void Processor\+::process\+Files (\begin{DoxyParamCaption}\item[{const std\+::string}]{output\+File,  }\item[{const std\+::vector$<$ std\+::string $>$ \&}]{file\+Names }\end{DoxyParamCaption})}



Runs the processing chain on a set of files. 


\begin{DoxyParams}{Parameters}
{\em output\+File} & Name of the output file \\
\hline
{\em file\+Names} & List of file names to run over \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_processor_a3710adfb2311c70d9402e25a8615ace4}\label{class_processor_a3710adfb2311c70d9402e25a8615ace4}} 
\index{Processor@{Processor}!run\+Low\+Level@{run\+Low\+Level}}
\index{run\+Low\+Level@{run\+Low\+Level}!Processor@{Processor}}
\subsubsection{\texorpdfstring{run\+Low\+Level()}{runLowLevel()}}
{\footnotesize\ttfamily void Processor\+::run\+Low\+Level (\begin{DoxyParamCaption}\item[{const std\+::string}]{output\+File }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Runs Low\+Level Mode. 


\begin{DoxyParams}{Parameters}
{\em output\+File} & Output file name \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_processor_a32965f4a6587e9bf54eeeb11de43a4ad}\label{class_processor_a32965f4a6587e9bf54eeeb11de43a4ad}} 
\index{Processor@{Processor}!run\+Parallel@{run\+Parallel}}
\index{run\+Parallel@{run\+Parallel}!Processor@{Processor}}
\subsubsection{\texorpdfstring{run\+Parallel()}{runParallel()}}
{\footnotesize\ttfamily void Processor\+::run\+Parallel (\begin{DoxyParamCaption}\item[{const std\+::string}]{output\+File }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Runs Parallel Mode. 


\begin{DoxyParams}{Parameters}
{\em output\+File} & Output file name \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_processor_aa04640b32910d2daae25306f35ddcad8}\label{class_processor_aa04640b32910d2daae25306f35ddcad8}} 
\index{Processor@{Processor}!run\+Quick\+Check@{run\+Quick\+Check}}
\index{run\+Quick\+Check@{run\+Quick\+Check}!Processor@{Processor}}
\subsubsection{\texorpdfstring{run\+Quick\+Check()}{runQuickCheck()}}
{\footnotesize\ttfamily void Processor\+::run\+Quick\+Check (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Runs Quick\+Check Mode. 

\mbox{\Hypertarget{class_processor_adf50ef4f51094892e979ebd7cd15af04}\label{class_processor_adf50ef4f51094892e979ebd7cd15af04}} 
\index{Processor@{Processor}!run\+Serial@{run\+Serial}}
\index{run\+Serial@{run\+Serial}!Processor@{Processor}}
\subsubsection{\texorpdfstring{run\+Serial()}{runSerial()}}
{\footnotesize\ttfamily void Processor\+::run\+Serial (\begin{DoxyParamCaption}\item[{const std\+::string}]{output\+File }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Runs Serial Mode. 


\begin{DoxyParams}{Parameters}
{\em output\+File} & Output file name \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_processor_a1a19cb73f339992d6dd1be580c8efef0}\label{class_processor_a1a19cb73f339992d6dd1be580c8efef0}} 
\index{Processor@{Processor}!write\+Events@{write\+Events}}
\index{write\+Events@{write\+Events}!Processor@{Processor}}
\subsubsection{\texorpdfstring{write\+Events()}{writeEvents()}}
{\footnotesize\ttfamily void Processor\+::write\+Events (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ \hyperlink{class_event_tree_manager}{Event\+Tree\+Manager} $>$ \&}]{manager }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Writes events from the event buffer to a root file through the manager. 



\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_processor_ae6ebab331300f556a5c9b58d3dbfff60}\label{class_processor_ae6ebab331300f556a5c9b58d3dbfff60}} 
\index{Processor@{Processor}!m\+\_\+config@{m\+\_\+config}}
\index{m\+\_\+config@{m\+\_\+config}!Processor@{Processor}}
\subsubsection{\texorpdfstring{m\+\_\+config}{m\_config}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$const \hyperlink{class_config}{Config}$>$ Processor\+::m\+\_\+config\hspace{0.3cm}{\ttfamily [private]}}



Program configuration. 

\mbox{\Hypertarget{class_processor_a7cb15fbab19fceb6bc5a607629ff5040}\label{class_processor_a7cb15fbab19fceb6bc5a607629ff5040}} 
\index{Processor@{Processor}!m\+\_\+event\+Buffer@{m\+\_\+event\+Buffer}}
\index{m\+\_\+event\+Buffer@{m\+\_\+event\+Buffer}!Processor@{Processor}}
\subsubsection{\texorpdfstring{m\+\_\+event\+Buffer}{m\_eventBuffer}}
{\footnotesize\ttfamily \hyperlink{class_thread_safe_event_map}{Thread\+Safe\+Event\+Map} Processor\+::m\+\_\+event\+Buffer\hspace{0.3cm}{\ttfamily [private]}}



\hyperlink{class_event}{Event} Buffer. 

\mbox{\Hypertarget{class_processor_aafe2ae55e609005c0e88226f1dd1dcb5}\label{class_processor_aafe2ae55e609005c0e88226f1dd1dcb5}} 
\index{Processor@{Processor}!m\+\_\+file\+Reader@{m\+\_\+file\+Reader}}
\index{m\+\_\+file\+Reader@{m\+\_\+file\+Reader}!Processor@{Processor}}
\subsubsection{\texorpdfstring{m\+\_\+file\+Reader}{m\_fileReader}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\hyperlink{class_file_reader}{File\+Reader}$>$ Processor\+::m\+\_\+file\+Reader = nullptr\hspace{0.3cm}{\ttfamily [private]}}



File Reader object pointer. 

\mbox{\Hypertarget{class_processor_ab75c789ec03e38e8621f000332daa285}\label{class_processor_ab75c789ec03e38e8621f000332daa285}} 
\index{Processor@{Processor}!m\+\_\+packet\+Buffers@{m\+\_\+packet\+Buffers}}
\index{m\+\_\+packet\+Buffers@{m\+\_\+packet\+Buffers}!Processor@{Processor}}
\subsubsection{\texorpdfstring{m\+\_\+packet\+Buffers}{m\_packetBuffers}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$ unsigned int, \hyperlink{class_processor_a0cfd8ed0721769db91c142a19a392e0f}{packet\+Buffer}$>$ Processor\+::m\+\_\+packet\+Buffers\hspace{0.3cm}{\ttfamily [private]}}



\hyperlink{class_packet}{Packet} Buffers. 

\mbox{\Hypertarget{class_processor_a8277cf1524daaa16f0dacfddd02ffd13}\label{class_processor_a8277cf1524daaa16f0dacfddd02ffd13}} 
\index{Processor@{Processor}!m\+\_\+word\+Bundle\+Buffers@{m\+\_\+word\+Bundle\+Buffers}}
\index{m\+\_\+word\+Bundle\+Buffers@{m\+\_\+word\+Bundle\+Buffers}!Processor@{Processor}}
\subsubsection{\texorpdfstring{m\+\_\+word\+Bundle\+Buffers}{m\_wordBundleBuffers}}
{\footnotesize\ttfamily std\+::array$<$ std\+::shared\+\_\+ptr$<$\hyperlink{class_processor_a531b4c5f7c0d810fc6e9e1dd3d115725}{bundle\+Buffer}$>$, 4$>$ Processor\+::m\+\_\+word\+Bundle\+Buffers = \{\{ nullptr \}\}\hspace{0.3cm}{\ttfamily [private]}}



Word Bundle Buffers (one for each slot) 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Core/inc/\hyperlink{_processor_8hpp}{Processor.\+hpp}\item 
Core/src/\hyperlink{_processor_8cpp}{Processor.\+cpp}\end{DoxyCompactItemize}
